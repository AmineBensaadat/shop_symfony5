{% extends 'base.html.twig' %}

{% block title %}Mon panier{% endblock %}

{% block content %}
<h1> mon Panier ici ! </h1>
<p> my cart is</p>
<table class="table">
  <thead>
    <tr>
      <th scope="col">Image</th>
      <th scope="col">Name</th>
      <th scope="col">Quantity</th>
      <th scope="col">Price</th>
      <th scope="col">Total</th>
    </tr>
  </thead>
  <tbody>
  {% set total = null %}
  {% for product in cart %}
    <tr>
      <td><img src="/uploads/{{ product.product.illustration }}" alt="{{ product.product.illustration }}" height="50px"></td>
      <td>
      {{ product.product.name }}<br>
      <small>{{ product.product.subtitle }}</small>
      </td>
      <td>X {{ product.quantity }}</td>
      <td>{{ (product.product.price / 100)  | number_format(2, ',','.') }} MAD</td>
      <td>{{ ((product.product.price * product.quantity)  / 100)  | number_format(2, ',','.') }} MAD</td>
    </tr>
    {% set total = total +  (product.product.price * product.quantity) %}
  {% endfor %}
  </tbody>
</table>
<div class="text-right mb-5">
    <b>
    Total products : {{ cart|length }}<br>
    Total cart : {{ ((total)  / 100)  | number_format(2, ',','.') }}
    </b><br>
    <a href="" class="btn btn-success btn-block"> valider mon panier </a>
</div>
{% endblock %}
